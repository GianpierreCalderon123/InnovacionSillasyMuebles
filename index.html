<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin | Innovación de Sillas y Muebles</title>
  <link rel="stylesheet" href="admin.css" />
</head>
<body>
  <header class="bar">
    <div class="wrap bar__inner">
      <div>
        <h1>Admin</h1>
        <p class="muted">
          Crea categorías y productos. Puedes <strong>importar</strong> desde <code>/data/products.json</code>
          y <strong>guardar en servidor</strong> para actualizarlo directamente.
        </p>
      </div>

      <div class="bar__actions">
        <a class="btn" href="../">← Volver a la web</a>
        <button class="btn" id="btnImport" type="button">Importar products.json</button>
        <button class="btn btn--primary" id="btnSaveServer" type="button">Guardar en servidor</button>
        <button class="btn" id="btnExport" type="button">Exportar products.json</button>
      </div>
    </div>
  </header>

  <main class="wrap grid">
    <section class="card card--full">
      <h2>Seguridad</h2>
      <p class="muted">
        Para guardar en servidor se requiere una clave simple (password). Esta clave se valida en <code>save.php</code>.
      </p>
      <div class="two">
        <label>
          Clave de admin
          <input id="adminKey" type="password" placeholder="Ingresa tu clave" />
          <small class="muted">La clave no se publica en el código del catálogo, solo se usa aquí para guardar.</small>
        </label>
        <div class="hintBox">
          <div class="hintTitle">Tip</div>
          <div class="muted">
            Si no quieres clave, te indico qué líneas borrar (es 1 minuto).
          </div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>Categorías</h2>

      <form id="catForm" class="form">
        <label>
          ID (url-friendly)
          <input id="catId" placeholder="ej: sillas-oficina" required />
        </label>
        <label>
          Nombre
          <input id="catName" placeholder="Sillas de oficina" required />
        </label>
        <div class="row">
          <button class="btn btn--primary" type="submit">Agregar / Actualizar</button>
          <button class="btn" type="button" id="btnCatClear">Limpiar</button>
        </div>
      </form>

      <div id="catList" class="list"></div>
    </section>

    <section class="card">
      <h2>Productos</h2>

      <form id="prodForm" class="form">
        <label>
          ID (único)
          <input id="pId" placeholder="ej: silla-nordica-01" required />
        </label>

        <label>
          Nombre
          <input id="pName" placeholder="Silla Nórdica Modelo N1" required />
        </label>

        <div class="two">
          <label>
            Categoría
            <select id="pCat"></select>
          </label>
          <label>
            Precio (PEN) (0 = Cotizar)
            <input id="pPrice" type="number" min="0" step="1" value="0" />
          </label>
        </div>

        <label>
          Descripción corta
          <textarea id="pDesc" rows="2" placeholder="Breve descripción del producto"></textarea>
        </label>

        <label>
          Características (una por línea)
          <textarea id="pFeat" rows="4" placeholder="Estructura resistente&#10;Fácil limpieza&#10;..."></textarea>
        </label>

        <div class="two">
          <label>
            Imagen (solo sugerencia de ruta)
            <input id="pImg" type="file" accept="image/*" />
            <small class="muted">Copia el archivo a <code>assets/img/</code>.</small>
          </label>

          <label>
            Ficha técnica (PDF)
            <input id="pPdf" type="file" accept="application/pdf" />
            <small class="muted">Copia el PDF a <code>assets/fichas/</code>.</small>
          </label>
        </div>

        <div class="two">
          <label>
            Ruta imagen (editable)
            <input id="pImgPath" placeholder="assets/img/archivo.jpg" />
          </label>
          <label>
            Ruta ficha (editable)
            <input id="pPdfPath" placeholder="assets/fichas/archivo.pdf" />
          </label>
        </div>

        <div class="row">
          <button class="btn btn--primary" type="submit">Agregar / Actualizar</button>
          <button class="btn" type="button" id="btnProdClear">Limpiar</button>
        </div>
      </form>

      <div id="prodList" class="list"></div>
    </section>

    <section class="card card--full">
      <h2>Publicación</h2>
      <ol class="muted">
        <li>Sube imágenes a <code>/assets/img/</code> y PDFs a <code>/assets/fichas/</code>.</li>
        <li>Entra a <code>/admin/</code> para editar.</li>
        <li>Pulsa <strong>Guardar en servidor</strong> para actualizar <code>/data/products.json</code>.</li>
        <li>Si tu hosting no permite escritura, usa <strong>Exportar</strong> y reemplaza el archivo manualmente.</li>
      </ol>
    </section>
  </main>

  <script src="admin.js"></script>
</body>
</html>
